<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>1 Getting Started 0.2-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>1</strong><span>Getting Started</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p> </p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>1 Getting Started - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Thomas Barker, Weizhuo Wu</p>

                    <p><strong>Version:</strong> 0.2-SNAPSHOT</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#installingIlliad"><strong>1.1</strong><span>Installing Illiad</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#configuringDataSource"><strong>1.2</strong><span>Configuring Illiad Data Sources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#populatingTheRepository"><strong>1.3</strong><span>Populating the Repository</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="gettingStarted">1 Getting Started</h1>
The illiad plugin for MetriDoc migrates data from Illiad to a central MySql repository.  Some simple dashboards are
available to analyze the most recent fiscal year.


<h2 id="installingIlliad">1.1 Installing Illiad</h2>
<h2>Setup and Installation</h2><p class="paragraph"/>If you don't already have a metridoc project setup, follow these
<a href="http://metridoc.googlecode.com/svn/trunk/metridoc-core/target/docs/guide/gettingStarted.html#firstMetridocProject" target="blank">instructions</a>.  To install illiad,
open <code>grails-app/conf/BuildConfig.groovy</code> and add the line <code>compile (":metridoc-illiad:&#60;illiad release&#62;")</code> within the <code>plugins {...}</code>
section.  The current release as of this writing is 0.1, and 0.2-SNAPSHOT for the upcoming release.
After adding illiad to your dependencies, run <code>grails --refresh-dependencies compile</code>
which should download and install the illiad plugin.<p class="paragraph"/>



<h2 id="configuringDataSource">1.2 Configuring Illiad Data Sources</h2>
<h2>Installing the MSSQL driver</h2><p class="paragraph"/>Behind the scenes, Illiad data is stored in a MSSQL database.
Because of license restrictions we could not include the MSSQL JDBC drivers in MetriDoc, users must download and
install them into their MetriDoc instances.
Go <a href="http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=11774" target="blank">here</a> to download the
JDBC driver.  After unzipping the archive you should see a jar named <code>sqljdbc4</code> in the <code>enu</code> directory.  Copy this to
the <code>lib</code> directory of your MetriDoc application.<p class="paragraph"/><h2>Configuring the Data Sources</h2><p class="paragraph"/>Connection parameters are added in <code>grails-app/conf/DataSources.groovy</code>.  Two data sources are required for MetriDoc
Illiad to work;  the data source to Illiad itself and the destination repository.  The configuration for illiad
would be similar to:<p class="paragraph"/><div class="code"><pre>dataSource_from_illiad &#123;
            pooled = <span class="java&#45;keyword">true</span>
            driverClassName = <span class="java&#45;quote">"com.microsoft.sqlserver.jdbc.SQLServerDriver"</span>
            dbCreate = <span class="java&#45;quote">"none"</span>
            username = <span class="java&#45;quote">"username"</span>
            password = <span class="java&#45;quote">"password"</span>
            url = <span class="java&#45;quote">"jdbc:sqlserver://xxx.xxx.xxx.xxx:1433;databaseName=ILLData"</span>
            properties(productionDataSourceProperties)
        &#125;</pre></div><p class="paragraph"/>Configuring the destination repository data source would be similar to:<p class="paragraph"/><div class="code"><pre>dataSource_illiad &#123;
            pooled = <span class="java&#45;keyword">true</span>
            dbCreate = <span class="java&#45;quote">"none"</span>
            url = <span class="java&#45;quote">"jdbc:mysql://xxx.xxx.xxx.xxx:3306/new_illiad"</span>
            driverClassName = <span class="java&#45;quote">"com.mysql.jdbc.Driver"</span>
            dialect = org.hibernate.dialect.MySQL5InnoDBDialect
            username = <span class="java&#45;quote">"username"</span>
            password = <span class="java&#45;quote">"password"</span>
            properties(productionDataSourceProperties)
        &#125;</pre></div>



<h2 id="populatingTheRepository">1.3 Populating the Repository</h2>
Before you look at the illiad dashboard, the illiad repository needs to be populated with data.  The illiad plugins
comes with a script that does this provided the data sources have been correctly configured.  For right now MetriDoc
requires that migration be called directly via the command line or by other means such as Jenkins.  To run populate
the repository from Illiad data navigate to the top folder of your MetriDoc project and run<p class="paragraph"/><div class="code"><pre>grails &#45;Dgrails.script.profile=<span class="java&#45;keyword">true</span> &#91;run&#45;illiad|http://metridoc.googlecode.com/svn/trunk/metridoc&#45;illiad/target/docs/ref/commandline/run&#45;illiad.html&#93;</pre></div><p class="paragraph"/>If everything is configured properly, Illiad data will migrate over to the destination repository.  To see the
Illiad dashboard run<p class="paragraph"/><div class="code"><pre>grails run&#45;app</pre></div><p class="paragraph"/>You should see something like:<p class="paragraph"/><img border="0" class="center" src="http://metridoc.googlecode.com/svn/trunk/metridoc-illiad/src/docs/images/illiadScreenShot.png"></img><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">commandline</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/commandline/run-illiad.html">run-illiad</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
